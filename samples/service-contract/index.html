<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Service contract available</title>
    <link href="https://unpkg.com/fundamental-styles@latest/dist/fundamental-styles.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
  </head>
  <body>
    <div>
      <h2 class="fd-title fd-title--h2" id="info">No selected activities</h2>
    </div>
    <script src="https://unpkg.com/fsm-shell"></script>
    <script src="helpers.js"></script>
    <script>
    const { ShellSdk, SHELL_EVENTS } = FSMShell;
// Initialize Shell SDK (assuming it's running inside an iframe)
const shellSdk = new ShellSdk(window.parent);
shellSdk.emit(SHELL_EVENTS.Version1.REQUIRE_CONTEXT, {
   clientIdentifier: 'service-contract'
});
// Listen for activity state changes
shellSdk.onViewState((viewState) => {
   console.log("Activity Updated:",viewState);
   if (viewState.context.activityId) {
       console.log("Activity Updated:", viewState.context.activityId);
       // Fetch updated activity details if needed
       fetchActivityDetails(viewState.context.activityId);
   }
});
// Function to fetch updated activity details
function fetchActivityDetails(activityId) {
   shellSdk.emit(SHELL_EVENTS.Version1.REQUIRE_CONTEXT, {
       clientIdentifier: 'service-contract',
       contextAttributes: ['activity']
   });
   shellSdk.once(SHELL_EVENTS.Version1.REQUIRE_CONTEXT, (context) => {
       console.log("Updated Activity Data:", context.activity);
   });
}
   
    </script>
  </body>
</html>