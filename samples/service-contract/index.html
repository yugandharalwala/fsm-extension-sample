
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Service contract available</title>
    <link href="https://unpkg.com/fundamental-styles@latest/dist/fundamental-styles.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
  </head>
  <body>
    <div>
      <h2 class="fd-title fd-title--h2" id="info">No selected activities</h2>
    </div>
    <script src="https://unpkg.com/fsm-shell"></script>
    <script src="helpers.js"></script>
    <script>
      // Import ShellSDK and events list from FSMShell global variable
      // see https://github.com/SAP/fsm-shell for more details.
      const { ShellSdk, SHELL_EVENTS } = FSMShell;

  const shellSdk = new ShellSdk(window.parent);
// Subscribe to onViewState for Activity Updates
shellSdk.onViewState((event) => {
   if (event?.state === 'ACTIVITY_DETAILS' && event.context) {
       console.log("Activity Updated:", event.context);
       // Extract activity details
       const activityId = event.context.activity?.id;
       const activityCode = event.context.activity?.code;
       console.log(`Activity ID: ${activityId}, Code: ${activityCode}`);
       // Perform necessary updates in your extension
       updateActivityUI(activityId, activityCode);
   }
});
    </script>
  </body>
</html>
